{"ast":null,"code":"import _regeneratorRuntime from\"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import ReactDOMServer from\"react-dom/server\";import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';import{Link}from\"react-router-dom\";import{ArchiveIcon,ChevronDownIcon,ChevronLeftIcon,ChevronRightIcon,ClockIcon,MailIcon,MailOpenIcon,PencilAltIcon,TrashIcon}from\"@heroicons/react/solid\";import{Col,Row,Button,Dropdown,ButtonGroup,OverlayTrigger,Tooltip}from'react-bootstrap';import{MessageCardWidget}from\"components/Widgets\";import{Routes}from\"routes\";import MESSAGES_DATA from\"data/messages\";var ArchiveIconHtml=ReactDOMServer.renderToString(/*#__PURE__*/React.createElement(ArchiveIcon,{className:\"h-50 w-auto\"}));var SwalWithBootstrapButtons=withReactContent(Swal.mixin({customClass:{confirmButton:'btn btn-primary me-3',cancelButton:'btn btn-gray'},buttonsStyling:false}));export default(function(){var _useState=useState(MESSAGES_DATA),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var selectedMessageIds=messages.filter(function(m){return m.isSelected;}).map(function(m){return m.id;});var disableMenu=selectedMessageIds.length===0;var selectMessage=function selectMessage(id){var newMessages=messages.map(function(m){var isSelected=m.id===id?!m.isSelected:m.isSelected;return _objectSpread(_objectSpread({},m),{},{isSelected:isSelected});});setMessages(newMessages);};var toggleFavorite=function toggleFavorite(id){setMessages(messages.map(function(m){return m.id===id?_objectSpread(_objectSpread({},m),{},{favorite:!m.favorite}):m;}));};var toggleReadStatus=function toggleReadStatus(id){setMessages(messages.map(function(m){return m.id===id?_objectSpread(_objectSpread({},m),{},{read:!m.read}):m;}));};var markSelectedMessagesAsUnread=function markSelectedMessagesAsUnread(){var newMessages=messages.map(function(m){return selectedMessageIds.includes(m.id)?_objectSpread(_objectSpread({},m),{},{read:false}):m;});setMessages(newMessages);};var markSelectedMessagesAsRead=function markSelectedMessagesAsRead(){var newMessages=messages.map(function(m){return selectedMessageIds.includes(m.id)?_objectSpread(_objectSpread({},m),{},{read:true}):m;});setMessages(newMessages);};var deleteMessages=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(ids){var messagesNr,textMessage,result,newMessages,confirmMessage;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:messagesNr=ids.length;textMessage=messagesNr===1?\"Are you sure do you want to delete this message?\":\"Are you sure do you want to delete these \".concat(messagesNr,\" messages?\");_context.next=4;return SwalWithBootstrapButtons.fire({icon:\"error\",title:\"Confirm deletion\",text:textMessage,showCancelButton:true,confirmButtonText:\"Yes\",cancelButtonText:\"Cancel\"});case 4:result=_context.sent;if(!result.isConfirmed){_context.next=11;break;}newMessages=messages.filter(function(f){return!ids.includes(f.id);});confirmMessage=messagesNr===1?\"The message has been deleted.\":\"The messages have been deleted.\";setMessages(newMessages);_context.next=11;return SwalWithBootstrapButtons.fire('Deleted',confirmMessage,'success');case 11:case\"end\":return _context.stop();}}},_callee);}));return function deleteMessages(_x){return _ref.apply(this,arguments);};}();var archiveMessages=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(ids){var messagesNr,textMessage,result,newMessages,confirmMessage;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:messagesNr=ids.length;textMessage=messagesNr===1?\"Are you sure do you want to archive this message?\":\"Are you sure do you want to archive these \".concat(messagesNr,\" messages?\");_context2.next=4;return SwalWithBootstrapButtons.fire({icon:\"question\",iconHtml:ArchiveIconHtml,title:\"Confirm archivation\",text:textMessage,showCancelButton:true,confirmButtonText:\"Yes\",cancelButtonText:\"Cancel\"});case 4:result=_context2.sent;if(!result.isConfirmed){_context2.next=11;break;}newMessages=messages.filter(function(f){return!ids.includes(f.id);});confirmMessage=messagesNr===1?\"The message has been archived.\":\"The messages were archived.\";setMessages(newMessages);_context2.next=11;return SwalWithBootstrapButtons.fire('Archived',confirmMessage,'success');case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function archiveMessages(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between align-items-center pb-2 pt-4 pb-md-4\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{as:Link,to:Routes.SingleMessage.path,variant:\"secondary\",className:\"d-inline-flex align-items-center mb-3 mb-md-0\"},/*#__PURE__*/React.createElement(PencilAltIcon,{className:\"icon icon-xs me-2\"}),\"Compose\")),/*#__PURE__*/React.createElement(\"div\",{className:\"d-block d-sm-flex\"},/*#__PURE__*/React.createElement(ButtonGroup,{className:\"mb-3 me-3 mb-md-0 d-none d-md-inline-flex\"},/*#__PURE__*/React.createElement(OverlayTrigger,{placement:\"bottom\",overlay:/*#__PURE__*/React.createElement(Tooltip,{className:\"m-0\"},\"Mark as Unread\")},/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",disabled:disableMenu,onClick:markSelectedMessagesAsUnread},/*#__PURE__*/React.createElement(MailIcon,{className:\"icon icon-xs text-white\"}))),/*#__PURE__*/React.createElement(OverlayTrigger,{placement:\"bottom\",overlay:/*#__PURE__*/React.createElement(Tooltip,{className:\"m-0\"},\"Archive\")},/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",disabled:disableMenu,onClick:function onClick(){return archiveMessages(selectedMessageIds);}},/*#__PURE__*/React.createElement(ArchiveIcon,{className:\"icon icon-xs text-white\"}))),/*#__PURE__*/React.createElement(OverlayTrigger,{placement:\"bottom\",overlay:/*#__PURE__*/React.createElement(Tooltip,{className:\"m-0\"},\"Delete\")},/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",disabled:disableMenu,onClick:function onClick(){return deleteMessages(selectedMessageIds);}},/*#__PURE__*/React.createElement(TrashIcon,{className:\"icon icon-xs text-white\"})))),/*#__PURE__*/React.createElement(Dropdown,{className:\"mb-3 mb-md-0\"},/*#__PURE__*/React.createElement(Dropdown.Toggle,{as:Button,variant:\"gray-800\",className:\"d-inline-flex alignpitems-center arrow-none\",disabled:disableMenu},\"More \",/*#__PURE__*/React.createElement(ChevronDownIcon,{className:\"icon icon-xs ms-1\"})),/*#__PURE__*/React.createElement(Dropdown.Menu,{className:\"dashboard-dropdown dropdown-menu-start mt-2 py-1\"},/*#__PURE__*/React.createElement(Dropdown.Item,{className:\"d-flex align-items-center\",onClick:function onClick(){return archiveMessages(selectedMessageIds);}},/*#__PURE__*/React.createElement(ArchiveIcon,{className:\"icon icon-xs text-gray-400 me-2\"}),\"Archive\"),/*#__PURE__*/React.createElement(Dropdown.Item,{className:\"d-flex align-items-center\",onClick:markSelectedMessagesAsRead},/*#__PURE__*/React.createElement(MailOpenIcon,{className:\"icon icon-xs text-gray-400 me-2\"}),\"Mark as read\"),/*#__PURE__*/React.createElement(Dropdown.Item,{className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(ClockIcon,{className:\"icon icon-xs text-gray-400 me-2\"}),\"Snooze\"),/*#__PURE__*/React.createElement(Dropdown.Divider,{as:\"div\",className:\"my-1\"}),/*#__PURE__*/React.createElement(Dropdown.Item,{className:\"d-flex align-items-center\",onClick:function onClick(){return deleteMessages(selectedMessageIds);}},/*#__PURE__*/React.createElement(TrashIcon,{className:\"icon icon-xs text-danger me-2\"}),\"Remove\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"message-wrapper border-0 bg-white shadow rounded mb-4\"},messages.map(function(m){return/*#__PURE__*/React.createElement(MessageCardWidget,Object.assign({},m,{key:\"message-\".concat(m.id),selectMessage:selectMessage,toggleFavorite:toggleFavorite,toggleReadStatus:toggleReadStatus,archiveMessage:function archiveMessage(id){return archiveMessages([id]);},deleteMessage:function deleteMessage(id){return deleteMessages([id]);}}));}),/*#__PURE__*/React.createElement(Row,{className:\"p-4\"},/*#__PURE__*/React.createElement(Col,{xs:7,className:\"mt-1\"},\"Showing 1 - \",messages.length,\" of 289\"),/*#__PURE__*/React.createElement(Col,{xs:5},/*#__PURE__*/React.createElement(ButtonGroup,{className:\"float-end\"},/*#__PURE__*/React.createElement(Button,{variant:\"gray-100\",size:\"lg\"},/*#__PURE__*/React.createElement(ChevronLeftIcon,{className:\"icon icon-xs\"})),/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",size:\"lg\"},/*#__PURE__*/React.createElement(ChevronRightIcon,{className:\"icon icon-xs\"})))))));});","map":{"version":3,"sources":["/Users/oisinlyons/Downloads/IDENTI3 PRO/src/pages/Messages.js"],"names":["React","useState","ReactDOMServer","Swal","withReactContent","Link","ArchiveIcon","ChevronDownIcon","ChevronLeftIcon","ChevronRightIcon","ClockIcon","MailIcon","MailOpenIcon","PencilAltIcon","TrashIcon","Col","Row","Button","Dropdown","ButtonGroup","OverlayTrigger","Tooltip","MessageCardWidget","Routes","MESSAGES_DATA","ArchiveIconHtml","renderToString","SwalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","messages","setMessages","selectedMessageIds","filter","m","isSelected","map","id","disableMenu","length","selectMessage","newMessages","toggleFavorite","favorite","toggleReadStatus","read","markSelectedMessagesAsUnread","includes","markSelectedMessagesAsRead","deleteMessages","ids","messagesNr","textMessage","fire","icon","title","text","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","f","confirmMessage","archiveMessages","iconHtml","SingleMessage","path"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport ReactDOMServer from \"react-dom/server\";\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\nimport { Link } from \"react-router-dom\";\nimport { ArchiveIcon, ChevronDownIcon, ChevronLeftIcon, ChevronRightIcon, ClockIcon, MailIcon, MailOpenIcon, PencilAltIcon, TrashIcon } from \"@heroicons/react/solid\";\nimport { Col, Row, Button, Dropdown, ButtonGroup, OverlayTrigger, Tooltip } from 'react-bootstrap';\n\nimport { MessageCardWidget } from \"components/Widgets\";\nimport { Routes } from \"routes\";\nimport MESSAGES_DATA from \"data/messages\";\n\nconst ArchiveIconHtml = ReactDOMServer.renderToString(\n  <ArchiveIcon className=\"h-50 w-auto\" />\n);\n\nconst SwalWithBootstrapButtons = withReactContent(Swal.mixin({\n  customClass: {\n    confirmButton: 'btn btn-primary me-3',\n    cancelButton: 'btn btn-gray'\n  },\n  buttonsStyling: false\n}));\n\nexport default () => {\n  const [messages, setMessages] = useState(MESSAGES_DATA);\n  const selectedMessageIds = messages.filter(m => m.isSelected).map(m => m.id);\n  const disableMenu = selectedMessageIds.length === 0;\n\n  const selectMessage = (id) => {\n    const newMessages = messages.map(m => {\n      const isSelected = m.id === id ? !m.isSelected : m.isSelected;\n      return { ...m, isSelected };\n    });\n\n    setMessages(newMessages);\n  };\n\n  const toggleFavorite = (id) => {\n    setMessages(messages.map(m => m.id === id ? { ...m, favorite: !m.favorite } : m));\n  };\n\n  const toggleReadStatus = (id) => {\n    setMessages(messages.map(m => m.id === id ? { ...m, read: !m.read } : m));\n  };\n\n  const markSelectedMessagesAsUnread = () => {\n    const newMessages = messages.map(m => selectedMessageIds.includes(m.id) ? { ...m, read: false } : m);\n    setMessages(newMessages);\n  };\n\n  const markSelectedMessagesAsRead = () => {\n    const newMessages = messages.map(m => selectedMessageIds.includes(m.id) ? { ...m, read: true } : m);\n    setMessages(newMessages);\n  };\n\n  const deleteMessages = async (ids) => {\n    const messagesNr = ids.length;\n    const textMessage = messagesNr === 1\n      ? \"Are you sure do you want to delete this message?\"\n      : `Are you sure do you want to delete these ${messagesNr} messages?`;\n\n    const result = await SwalWithBootstrapButtons.fire({\n      icon: \"error\",\n      title: \"Confirm deletion\",\n      text: textMessage,\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      cancelButtonText: \"Cancel\"\n    });\n\n    if (result.isConfirmed) {\n      const newMessages = messages.filter(f => !ids.includes(f.id));\n      const confirmMessage = messagesNr === 1 ? \"The message has been deleted.\" : \"The messages have been deleted.\";\n\n      setMessages(newMessages);\n      await SwalWithBootstrapButtons.fire('Deleted', confirmMessage, 'success');\n    }\n  };\n\n  const archiveMessages = async (ids) => {\n    const messagesNr = ids.length;\n    const textMessage = messagesNr === 1\n      ? \"Are you sure do you want to archive this message?\"\n      : `Are you sure do you want to archive these ${messagesNr} messages?`;\n\n    const result = await SwalWithBootstrapButtons.fire({\n      icon: \"question\",\n      iconHtml: ArchiveIconHtml,\n      title: \"Confirm archivation\",\n      text: textMessage,\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      cancelButtonText: \"Cancel\"\n    });\n\n    if (result.isConfirmed) {\n      const newMessages = messages.filter(f => !ids.includes(f.id));\n      const confirmMessage = messagesNr === 1 ? \"The message has been archived.\" : \"The messages were archived.\";\n\n      setMessages(newMessages);\n      await SwalWithBootstrapButtons.fire('Archived', confirmMessage, 'success');\n    }\n  };\n\n  return (\n    <>\n      <div className=\"d-flex justify-content-between align-items-center pb-2 pt-4 pb-md-4\">\n        <div>\n          <Button as={Link} to={Routes.SingleMessage.path} variant=\"secondary\" className=\"d-inline-flex align-items-center mb-3 mb-md-0\">\n            <PencilAltIcon className=\"icon icon-xs me-2\" />\n            Compose\n          </Button>\n        </div>\n        <div className=\"d-block d-sm-flex\">\n          <ButtonGroup className=\"mb-3 me-3 mb-md-0 d-none d-md-inline-flex\">\n            <OverlayTrigger placement=\"bottom\" overlay={<Tooltip className=\"m-0\">Mark as Unread</Tooltip>}>\n              <Button variant=\"gray-800\" disabled={disableMenu} onClick={markSelectedMessagesAsUnread} >\n                <MailIcon className=\"icon icon-xs text-white\" />\n              </Button>\n            </OverlayTrigger>\n\n            <OverlayTrigger placement=\"bottom\" overlay={<Tooltip className=\"m-0\">Archive</Tooltip>}>\n              <Button variant=\"gray-800\" disabled={disableMenu} onClick={() => archiveMessages(selectedMessageIds)}>\n                <ArchiveIcon className=\"icon icon-xs text-white\" />\n              </Button>\n            </OverlayTrigger>\n\n            <OverlayTrigger placement=\"bottom\" overlay={<Tooltip className=\"m-0\">Delete</Tooltip>}>\n              <Button variant=\"gray-800\" disabled={disableMenu} onClick={() => deleteMessages(selectedMessageIds)}>\n                <TrashIcon className=\"icon icon-xs text-white\" />\n              </Button>\n            </OverlayTrigger>\n          </ButtonGroup>\n\n          <Dropdown className=\"mb-3 mb-md-0\">\n            <Dropdown.Toggle as={Button} variant=\"gray-800\" className=\"d-inline-flex alignpitems-center arrow-none\" disabled={disableMenu}>\n              More <ChevronDownIcon className=\"icon icon-xs ms-1\" />\n            </Dropdown.Toggle>\n            <Dropdown.Menu className=\"dashboard-dropdown dropdown-menu-start mt-2 py-1\">\n              <Dropdown.Item className=\"d-flex align-items-center\" onClick={() => archiveMessages(selectedMessageIds)}>\n                <ArchiveIcon className=\"icon icon-xs text-gray-400 me-2\" />\n                Archive\n              </Dropdown.Item>\n              <Dropdown.Item className=\"d-flex align-items-center\" onClick={markSelectedMessagesAsRead}>\n                <MailOpenIcon className=\"icon icon-xs text-gray-400 me-2\" />\n                Mark as read\n              </Dropdown.Item>\n              <Dropdown.Item className=\"d-flex align-items-center\">\n                <ClockIcon className=\"icon icon-xs text-gray-400 me-2\" />\n                Snooze\n              </Dropdown.Item>\n\n              <Dropdown.Divider as=\"div\" className=\"my-1\" />\n\n              <Dropdown.Item className=\"d-flex align-items-center\" onClick={() => deleteMessages(selectedMessageIds)}>\n                <TrashIcon className=\"icon icon-xs text-danger me-2\" />\n                Remove\n              </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n      </div>\n\n      <div className=\"message-wrapper border-0 bg-white shadow rounded mb-4\">\n        {messages.map(m => (\n          <MessageCardWidget\n            {...m}\n            key={`message-${m.id}`}\n            selectMessage={selectMessage}\n            toggleFavorite={toggleFavorite}\n            toggleReadStatus={toggleReadStatus}\n            archiveMessage={id => archiveMessages([id])}\n            deleteMessage={id => deleteMessages([id])}\n          />\n        ))}\n\n        <Row className=\"p-4\">\n          <Col xs={7} className=\"mt-1\">\n            Showing 1 - {messages.length} of 289\n          </Col>\n          <Col xs={5}>\n            <ButtonGroup className=\"float-end\">\n              <Button variant=\"gray-100\" size=\"lg\">\n                <ChevronLeftIcon className=\"icon icon-xs\" />\n              </Button>\n              <Button variant=\"gray-800\" size=\"lg\">\n                <ChevronRightIcon className=\"icon icon-xs\" />\n              </Button>\n            </ButtonGroup>\n          </Col>\n        </Row>\n      </div>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}