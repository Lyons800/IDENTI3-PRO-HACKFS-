{"ast":null,"code":"import _regeneratorRuntime from \"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/oisinlyons/Downloads/IDENTI3 PRO/src/pages/Calendar.js\";\n\nimport React, { useRef, useState } from \"react\";\nimport moment from \"moment-timezone\";\nimport Swal from \"sweetalert2\";\nimport { useHistory } from \"react-router-dom\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport bootstrapPlugin from \"@fullcalendar/bootstrap\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport { Card, Button, Breadcrumb } from \"react-bootstrap\";\nimport { Routes } from \"routes\";\nimport { EventModal } from \"components/Modals\";\nimport EVENTS_DATA from \"data/events\";\nimport { HomeIcon, QuestionMarkCircleIcon } from \"@heroicons/react/solid\";\nvar SwalWithBootstrapButtons = withReactContent(Swal.mixin({\n  customClass: {\n    confirmButton: \"btn btn-primary me-3\",\n    cancelButton: \"btn btn-gray\"\n  },\n  buttonsStyling: false\n}));\nexport default (function () {\n  var defaultModalProps = {\n    id: \"\",\n    title: \"\",\n    start: null,\n    end: null\n  };\n  var history = useHistory();\n\n  var _useState = useState(EVENTS_DATA),\n      _useState2 = _slicedToArray(_useState, 2),\n      events = _useState2[0],\n      setEvents = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showEditModal = _useState4[0],\n      setShowEditModal = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showAddModal = _useState6[0],\n      setShowAddModal = _useState6[1];\n\n  var _useState7 = useState(defaultModalProps),\n      _useState8 = _slicedToArray(_useState7, 2),\n      modalProps = _useState8[0],\n      setModalProps = _useState8[1];\n\n  var calendarRef = useRef();\n  var currentDate = moment().format(\"YYYY-MM-DD\");\n\n  var onDateClick = function onDateClick(props) {\n    var id = events.length + 1;\n    var date = new Date(props.date);\n    var endDate = moment(date).endOf(\"day\").add(1, \"day\").toDate();\n    setModalProps(_objectSpread(_objectSpread({}, defaultModalProps), {}, {\n      id: id,\n      start: date,\n      end: endDate\n    }));\n    setShowAddModal(true);\n  };\n\n  var onEventClick = function onEventClick(props) {\n    var _props$event = props.event,\n        id = _props$event.id,\n        title = _props$event.title,\n        start = _props$event.start,\n        end = _props$event.end;\n    setModalProps({\n      id: id,\n      title: title,\n      start: start,\n      end: end\n    });\n    setShowEditModal(true);\n  };\n\n  var onEventUpdate = function onEventUpdate(props) {\n    var id = props.id,\n        title = props.title,\n        start = props.start,\n        end = props.end,\n        sameDay = props.sameDay;\n    var calendarApi = calendarRef.current.getApi();\n    var calendarElem = calendarApi.getEventById(id);\n\n    if (calendarElem) {\n      calendarElem.setProp(\"title\", title);\n      calendarElem.setDates(start, end, {\n        allDay: sameDay\n      });\n    }\n\n    setShowEditModal(false);\n  };\n\n  var onEventAdd = function onEventAdd(props) {\n    var newEvent = _objectSpread(_objectSpread({}, props), {}, {\n      dragable: true,\n      className: \"bg-blue\",\n      allDay: props.sameDay\n    });\n\n    setShowAddModal(false);\n    setEvents([].concat(_toConsumableArray(events), [newEvent]));\n    setModalProps(defaultModalProps);\n  };\n\n  var onEventDelete = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var result, newEvents;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return SwalWithBootstrapButtons.fire({\n                icon: \"error\",\n                title: \"Confirm deletion\",\n                text: \"Are you sure you want to delete this event?\",\n                showCancelButton: true,\n                confirmButtonText: \"Yes\",\n                cancelButtonText: \"Cancel\"\n              });\n\n            case 2:\n              result = _context.sent;\n              setShowEditModal(false);\n              setModalProps(defaultModalProps);\n\n              if (!result.isConfirmed) {\n                _context.next = 10;\n                break;\n              }\n\n              newEvents = events.filter(function (e) {\n                return e.id !== id;\n              });\n              setEvents(newEvents);\n              _context.next = 10;\n              return SwalWithBootstrapButtons.fire(\"Deleted!\", \"The event has been deleted.\", \"success\");\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onEventDelete(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleClose = function handleClose() {\n    setShowAddModal(false);\n    setShowEditModal(false);\n  };\n\n  var goToCalendarDocs = function goToCalendarDocs() {\n    history.push(Routes.PluginCalendar.path);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, showEditModal ? /*#__PURE__*/React.createElement(EventModal, Object.assign({}, modalProps, {\n    edit: true,\n    show: showEditModal,\n    onUpdate: onEventUpdate,\n    onDelete: onEventDelete,\n    onHide: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })) : null, showAddModal ? /*#__PURE__*/React.createElement(EventModal, Object.assign({}, modalProps, {\n    show: showAddModal,\n    onAdd: onEventAdd,\n    onHide: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  })) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-xl-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-block mb-4 mb-xl-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    className: \"d-none d-md-inline-block\",\n    listProps: {\n      className: \"breadcrumb-dark breadcrumb-transparent\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(HomeIcon, {\n    className: \"icon icon-xs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Volt\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    active: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, \"Calendar\")), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Calendar\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, \"Dozens of reusable components built to provide buttons, alerts, popovers, and more.\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outline-gray-600\",\n    className: \"d-inline-flex align-items-center\",\n    onClick: goToCalendarDocs,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(QuestionMarkCircleIcon, {\n    className: \"icon icon-xs me-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }), \" Calendar Docs\"))), /*#__PURE__*/React.createElement(Card, {\n    className: \"border-0 shadow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FullCalendar, {\n    editable: true,\n    selectable: true,\n    ref: calendarRef,\n    events: events,\n    displayEventTime: false,\n    themeSystem: \"bootstrap\",\n    plugins: [dayGridPlugin, timeGridPlugin, bootstrapPlugin, interactionPlugin],\n    initialView: \"dayGridMonth\",\n    buttonText: {\n      prev: \"Previous\",\n      next: \"Next\",\n      month: \"Month\",\n      week: \"Week\",\n      day: \"Day\",\n      today: \"Today\"\n    },\n    bootstrapFontAwesome: false,\n    initialDate: currentDate,\n    eventClick: onEventClick,\n    dateClick: onDateClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }))));\n});","map":{"version":3,"sources":["/Users/oisinlyons/Downloads/IDENTI3 PRO/src/pages/Calendar.js"],"names":["React","useRef","useState","moment","Swal","useHistory","withReactContent","FullCalendar","dayGridPlugin","timeGridPlugin","bootstrapPlugin","interactionPlugin","Card","Button","Breadcrumb","Routes","EventModal","EVENTS_DATA","HomeIcon","QuestionMarkCircleIcon","SwalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","defaultModalProps","id","title","start","end","history","events","setEvents","showEditModal","setShowEditModal","showAddModal","setShowAddModal","modalProps","setModalProps","calendarRef","currentDate","format","onDateClick","props","length","date","Date","endDate","endOf","add","toDate","onEventClick","event","onEventUpdate","sameDay","calendarApi","current","getApi","calendarElem","getEventById","setProp","setDates","allDay","onEventAdd","newEvent","dragable","className","onEventDelete","fire","icon","text","showCancelButton","confirmButtonText","cancelButtonText","result","isConfirmed","newEvents","filter","e","handleClose","goToCalendarDocs","push","PluginCalendar","path","prev","next","month","week","day","today"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport moment from \"moment-timezone\";\nimport Swal from \"sweetalert2\";\nimport { useHistory } from \"react-router-dom\";\nimport withReactContent from \"sweetalert2-react-content\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport timeGridPlugin from \"@fullcalendar/timegrid\";\nimport bootstrapPlugin from \"@fullcalendar/bootstrap\";\nimport interactionPlugin from \"@fullcalendar/interaction\";\nimport { Card, Button, Breadcrumb } from \"react-bootstrap\";\n\nimport { Routes } from \"routes\";\nimport { EventModal } from \"components/Modals\";\nimport EVENTS_DATA from \"data/events\";\nimport { HomeIcon, QuestionMarkCircleIcon } from \"@heroicons/react/solid\";\n\nconst SwalWithBootstrapButtons = withReactContent(Swal.mixin({\n  customClass: {\n    confirmButton: \"btn btn-primary me-3\",\n    cancelButton: \"btn btn-gray\"\n  },\n  buttonsStyling: false\n}));\n\nexport default () => {\n  const defaultModalProps = { id: \"\", title: \"\", start: null, end: null };\n  const history = useHistory();\n  const [events, setEvents] = useState(EVENTS_DATA);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [modalProps, setModalProps] = useState(defaultModalProps);\n  const calendarRef = useRef();\n\n  const currentDate = moment().format(\"YYYY-MM-DD\");\n\n  const onDateClick = (props) => {\n    const id = events.length + 1;\n    const date = new Date(props.date);\n    const endDate = moment(date).endOf(\"day\").add(1, \"day\").toDate();\n\n    setModalProps({ ...defaultModalProps, id, start: date, end: endDate });\n    setShowAddModal(true);\n  };\n\n  const onEventClick = (props) => {\n    const { event: { id, title, start, end } } = props;\n    setModalProps({ id, title, start, end });\n    setShowEditModal(true);\n  };\n\n  const onEventUpdate = (props) => {\n    const { id, title, start, end, sameDay } = props;\n    const calendarApi = calendarRef.current.getApi();\n    const calendarElem = calendarApi.getEventById(id);\n\n    if (calendarElem) {\n      calendarElem.setProp(\"title\", title);\n      calendarElem.setDates(start, end, { allDay: sameDay });\n    }\n\n    setShowEditModal(false);\n  };\n\n  const onEventAdd = (props) => {\n    const newEvent = { ...props, dragable: true, className: \"bg-blue\", allDay: props.sameDay };\n\n    setShowAddModal(false);\n    setEvents([...events, newEvent]);\n    setModalProps(defaultModalProps);\n  };\n\n  const onEventDelete = async (id) => {\n    const result = await SwalWithBootstrapButtons.fire({\n      icon: \"error\",\n      title: \"Confirm deletion\",\n      text: \"Are you sure you want to delete this event?\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      cancelButtonText: \"Cancel\"\n    });\n\n    setShowEditModal(false);\n    setModalProps(defaultModalProps);\n\n    if (result.isConfirmed) {      \n      const newEvents = events.filter(e => e.id !== id);\n      setEvents(newEvents);\n\n      await SwalWithBootstrapButtons.fire(\"Deleted!\", \"The event has been deleted.\", \"success\");\n    }\n  };\n\n  const handleClose = () => {\n    setShowAddModal(false);\n    setShowEditModal(false);\n  };\n\n  const goToCalendarDocs = () => {\n    history.push(Routes.PluginCalendar.path);\n  };\n\n  return (\n    <>\n      {showEditModal ? (\n        <EventModal\n          {...modalProps}\n          edit={true}\n          show={showEditModal}\n          onUpdate={onEventUpdate}\n          onDelete={onEventDelete}\n          onHide={handleClose}\n        />\n      ) : null}\n\n      {showAddModal ? (\n        <EventModal\n          {...modalProps}\n          show={showAddModal}\n          onAdd={onEventAdd}\n          onHide={handleClose}\n        />\n      ) : null}\n\n      <div className=\"d-xl-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4\">\n        <div className=\"d-block mb-4 mb-xl-0\">\n          <Breadcrumb className=\"d-none d-md-inline-block\" listProps={{ className: \"breadcrumb-dark breadcrumb-transparent\" }}>\n            <Breadcrumb.Item><HomeIcon className=\"icon icon-xs\" /></Breadcrumb.Item>\n            <Breadcrumb.Item>Volt</Breadcrumb.Item>\n            <Breadcrumb.Item active>Calendar</Breadcrumb.Item>\n          </Breadcrumb>\n          <h4>Calendar</h4>\n          <p className=\"mb-0\">\n            Dozens of reusable components built to provide buttons, alerts, popovers, and more.\n          </p>\n        </div>\n        <div>\n          <Button\n            variant=\"outline-gray-600\"\n            className=\"d-inline-flex align-items-center\"\n            onClick={goToCalendarDocs}\n          >\n            <QuestionMarkCircleIcon className=\"icon icon-xs me-1\" /> Calendar Docs\n          </Button>\n        </div>\n      </div>\n\n      <Card className=\"border-0 shadow\">\n        <Card.Body>\n          <FullCalendar\n            editable\n            selectable\n            ref={calendarRef}\n            events={events}\n            displayEventTime={false}\n            themeSystem=\"bootstrap\"\n            plugins={[dayGridPlugin, timeGridPlugin, bootstrapPlugin, interactionPlugin]}\n            initialView=\"dayGridMonth\"\n            buttonText={{\n              prev: \"Previous\",\n              next: \"Next\",\n              month: \"Month\",\n              week: \"Week\",\n              day: \"Day\",\n              today: \"Today\",\n            }}\n            bootstrapFontAwesome={false}\n            initialDate={currentDate}\n            eventClick={onEventClick}\n            dateClick={onDateClick}\n          />\n        </Card.Body>\n      </Card>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}